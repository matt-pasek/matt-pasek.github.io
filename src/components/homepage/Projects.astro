---
import ProjectCard from "../ProjectCard.astro";
import TxtButton from "../TextButton.astro";
import { getCollection } from "astro:content";

const projects = await getCollection("projects");
---

<div class="flex items-center flex-col xl:px-20 my-14">
    <div class="flex w-full justify-between font-nunito">
        <div class="flex items-center gap-2">
            <hr class="w-9 rounded-full border-t-[3px] border-accent-light dark:border-accent-dark"/>
            <h2 class="font-semibold text-lg text-color">My recent <span class="text-accent">projects</span></h2>
        </div>
        <div class="hidden xl:flex gap-10">
            <div class="flex flex-col">
                <p class="font-bold text-base text-accent">2+</p>
                <p class="font-medium text-color">Projects completed</p>
            </div>
            <div class="flex flex-col">
                <p class="font-bold text-base text-accent">5</p>
                <p class="font-medium text-color">Design projects</p>
            </div>
            <div class="flex flex-col">
                <p class="font-bold text-base text-accent">1</p>
                <p class="font-medium text-color">Dev projects</p>
            </div>
        </div>
    </div>
    <div class="w-full flex flex-col xl:flex-row flex-wrap justify-center gap-10 px-5 xl:px-20 pt-10">
        {projects.slice(0,3).map(project => <ProjectCard project={project} />)}
    </div>
    <TxtButton class="mx-auto" text="Explore all" href="/projects" />
</div>