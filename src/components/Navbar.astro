---
import ThemeIcon from "./ThemeIcon.astro";
import '@fontsource/oxygen/700.css';
import '@fontsource/oxygen/400.css';
---

<nav class="w-full pt-5">
    <div class="flex h-12 justify-between items-center w-3/4 mx-auto font-oxygen bg-light/30 dark:bg-dark/30">
        <a href="/">
            <div class="flex flex-col">
                <h2 class="text-sm m-0 font-bold tracking-wider text-accent-light dark:text-accent-dark">Mateusz Pasek</h2>
                <p class="small-text">Fullstack Designer</p>
            </div>
        </a>
        <div class="gap-5 items-center hidden xl:flex">
            <a class="small-text" href="/projects">Projects</a>
            <a class="small-text" href="/about">About me</a>
            <a class="small-text" href="/contact">Contact</a>
            <ThemeIcon />
        </div>
    </div>

</nav>

<script>
    function highlightCurrentPage() {
        let currentPage = new URL(window.location as unknown as URL).pathname;
        console.log(currentPage);
        let links = document.querySelectorAll('a');
        links.forEach(link => {
            if (link.getAttribute('href') === currentPage) {
                link.classList.add('highlight');
            } else {
                link.classList.remove('highlight');
            }
        });
    }

    highlightCurrentPage();
    document.addEventListener('astro:after-swap', highlightCurrentPage)
</script>

<style>
    .small-text {
        @apply text-xs font-normal tracking-wider text-dark/80 dark:text-light/50
    }
    .highlight {
        @apply font-bold text-accent-light dark:text-accent-dark
    }
</style>